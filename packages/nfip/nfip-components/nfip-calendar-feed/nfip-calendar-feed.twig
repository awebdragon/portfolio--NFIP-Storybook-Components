{% set baseClass = "nfip-calendar-feed" %}
<div class="{{baseClass}} padding-y-4">
  {% for event in events %}
    {% set startDate = event.startDate|date('M j Y') %}
    {% set endDate = event.endDate|date('M j Y') %}
    {% set startTime = event.startDate|date('g:ia') %}
    {% set endTime = event.endDate|date('g:ia') %}
    {% set column = loop.index - 1 < events|length / 2 ? 1 : 2 %}
    {% set row = (loop.index - 1) % (events.length / 2) + 1 %}
  <div class="{{baseClass}}__event" style="grid-column:{{column}}; grid-row: {{row|round(1, 'floor')}}" data-index="{{loop.index}}">
    
    {% if endDate == startDate %}
    <div class="{{baseClass}}__date">
      <span class="month">{{event.startDate|date('M')}}</span>
      <span class="day">{{event.startDate|date('j')}}</span>
    </div>
    {% else %}
    <div class="{{baseClass}}__start-end">
      <div class="start">
        <span class="month">{{event.startDate|date('M')}}</span>
        <span class="day">{{event.startDate|date('j')}}</span>
      </div>
    
      <div class="end">
        <span class="month">{{event.endDate|date('M')}}</span>
        <span class="day">{{event.endDate|date('j')}}</span>
      </div>
    </div>
    {% endif %}
    
    <div>
      <div class="font-body-2xs text-bold text-base-darker nfip-calendar-feed__times">
        {# start date and start time are equal to end date and end time #}
        {% if startDate == endDate and startTime == endTime %}
          <span>{{event.startDate|date('M j, Y')}}</span>
          <span>{{event.startDate|date('g:ia T')}}</span>
        {% elseif startDate == endDate and starTime != endTime %}
          <span>{{event.startDate|date('M j, Y')}}</span>
          <span>{{event.startDate|date('g:ia')}} - {{event.endDate|date('g:ia T')}}</span>
        {% elseif startDate != endDate and starTime == endTime %}
          <span>{{event.startDate|date('M j, Y')}} - {{event.endDate|date('M j, Y')}}</span>
          <span>{{event.endDate|date('g:ia T')}}</span>
        {% elseif startDate != endDate and starTime != endTime %}
          <span>{{event.startDate|date('M j, Y')}} - {{event.endDate|date('M j, Y')}}</span>
          <span>{{event.startDate|date('g:ia')}} - {{event.endDate|date('g:ia T')}}</span>
        {% endif %}
        {# {{event.startDate|date('M j, Y g:ia T')}}
        {{startTime}}
        {{endTime}} #}
        <span class="text-accent-warm">{{event.type}}</span>
      </div>
      <h6 class="margin-top-0 margin-bottom-1"><a href="#" class="text-primary-darker">{{event.headline}}</a></h6>
      {% if event.teaser %}
      <p class="margin-y-0">{{event.teaser}}</p>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>